<!DOCTYPE HTML>
 
<meta charset="UTF-8">

<div class="row">
  <div class="column">
    <img src="images/logo_soundless_transparent.png" alt="Soundless" style="width:100%">
  </div>
  <div class="column">
    <img src="images/loading.gif" alt="Loading..." style="width:100%">
  </div>
  <div class="column">
    <img src="images/logo_fitbit_transparent.png" alt="Fitbit" style="width:100%">
  </div>
</div>


<div class="text">

	<h2>Fitbit connectat amb èxit! El teu codi és:</h2>
 	<h4>Fitbit conectado con éxito! Tu código es:</h4>
 	<h4>Fitbit connected successfully! Your code is:</h4>

</div>

<div class="clipboard">

  	<h1 id="code"></h1>
	<button id="copy-image" onclick="myFunction()"><img src="images/copy_icon.png"></button>

</div>

<script>
  const params = new Proxy(new URLSearchParams(window.location.search), {
    get: (searchParams, prop) => searchParams.get(prop),
  });
  const code = params.code;
  const elem = document.getElementById('code');
  elem.innerHTML = code;
  
  function myFunction() {
  // Get the text field
  var copyText = document.getElementById('code');

  // Select the text field
  copyText.select();
  copyText.setSelectionRange(0, 99999); // For mobile devices

  // Copy the text inside the text field
  navigator.clipboard.writeText(copyText.value);
  
  // Alert the copied text
  alert("Copied the text: " + copyText.value);
}
</script>

<style>
* {
  box-sizing: border-box;
  max-width: 500px;
  margin: auto;
}

.column {
  float: left;
  width: 33.33%;
  padding: 5px;  
  margin-top: 50px;
}

/* Clearfix (clear floats) */
.row::after {
  content: "";
  clear: both;
  display: table;
}

.text {
  margin-top: 100px
}

.copy-image{
	width: 20px;
    height: 20px;
}
</style>
