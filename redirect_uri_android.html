<!DOCTYPE HTML>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=0.55">

<header>
</header>

<div class="row">

  <div class="space">
  </div>

  <div class="columnleft">
    <img src="images/logo_soundless_transparent.png" alt="Soundless" height="90%" width="90%">
  </div>

  <div class="columncenter">
    <img src="images/loading (2).gif" alt="Loading..." height="100%" width="100%">
  </div>

  <div class="columnright">
    <img src="images/logo_fitbit_transparent.png" alt="Fitbit" height="100%" width="100%">
  </div>

</div>


<div class="text">

	<h2 id = "cat">Fitbit connectat! Clica el codi per copiar-lo i torna a Soundless.</h2>
 	<h4 id = "esp">Fitbit conectado! Haz clic sobre el código para copiarlo y vuelve a Soundless.</h4>
 	<h4 id = "eng">Fitbit connected! Tap the code below to copy it, and return to Soundless.</h4>

</div>

<div class="clipboard">
  	<h2 id="code" onclick="copyElementText('code')"></h2>
	<button id="copy-image" onclick="copyElementText('code')"><img src="images/copy_icon.png" alt="copy" height="24px" width="24px"></button>
</div>

<div id="copy">
	<p>✓ Copied! </p>
</div>

<script>

  const params = new Proxy(new URLSearchParams(window.location.search), {
    get: (searchParams, prop) => searchParams.get(prop),
  });
  const code = params.code;
  const elem = document.getElementById('code');
  elem.innerHTML = code;
  hideElem();

 function copyElementText(elementID) {
  	let element = document.getElementById(elementID); //select the element
 	let elementText = element.textContent; //get the text content from the element
	navigator.clipboard.writeText(elementText);
    showElem();
 }

 function hideElem() {
  document.getElementById("copy").style.display = "none";
 }

 function showElem() {
  document.getElementById("copy").style.display = "flex";

  setTimeout(hideElem, 3000)
 }

</script>

<style>
* {
  box-sizing: border-box;
  margin:auto;
  padding:0;
  border: 0;
  align-items: center;
  background: #EAD09F;
  font-family: Nunito, sans-serif;
}

header {
  background: #EFBC83;
  height: 70px;
  width: auto;
}

.space {
  float: left;
  width: 31%;
  margin-top: 50px;
  text-align:right;
}

.columnleft {
  float: left;
  width: 13%;
  margin-top: 70px;
  text-align:right;
}

.columncenter {
  float: left;
  width: 13%;
  margin-top: 55px;
  text-align:center;
}

.columnright {
  float: left;
  width: 13%;
  margin-top: 70px;
  text-align:left;
}

/* Clearfix (clear floats) */
.row::after {
  content: "";
  clear: both;
  display: table;
}

.text {
  margin-top: 70px;
  text-align:center;
  border-radius: 25px;
  border: 2px solid #A6753F;
  padding: 20px;
  width: 525px;
  height: 115px;
}

.copy-image{
	width: 20px;
    height: 20px;
}

.clipboard {
	margin-top: 75px;
    display: flex;
  	align-items: center;
}

#copy-image{
	margin-left: 5px;
}

#code{
	margin-right: 5px;
}

#copy {
	margin-top: 10px;
    display: flex;
  	align-items: center;
}

#esp {
	margin-top: 7px;
}

#eng {
	margin-top: 7px;
}

</style>
